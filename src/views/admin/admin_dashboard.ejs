<%- layout('layout/adminBoilerplate') %>

<div class="dashboard">
  <div class="content">
    <!-- Stats Cards -->
    <div class="stats-cards">
      <div class="stat-card">
        <div
          class="stat-icon"
          style="
            background-color: rgba(15, 184, 150, 0.2);
            color: var(--primary);
          "
        >
          <i class="fas fa-wallet"></i>
        </div>
        <div class="stat-info">
          <h3>$<%= totalRevenue.toLocaleString() %></h3>
          <p>Total Revenue</p>
        </div>
      </div>
      <div class="stat-card">
        <div
          class="stat-icon"
          style="
            background-color: rgba(0, 217, 140, 0.2);
            color: var(--success);
          "
        >
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
          <h3><%= totalUsers %></h3>
          <p>Total Users</p>
        </div>
      </div>
      <div class="stat-card">
        <div
          class="stat-icon"
          style="
            background-color: rgba(255, 184, 0, 0.2);
            color: var(--warning);
          "
        >
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="stat-info">
          <h3><%= totalOrders %></h3>
          <p>New Orders</p>
        </div>
      </div>
    </div>

    <!-- Charts -->
    <div class="charts-container">
      <div class="chart-card">
        <div class="chart-header">Revenue Growth</div>
        <canvas id="revenueChart"></canvas>
      </div>
      <div class="chart-card">
        <div class="chart-header">User Distribution</div>
        <canvas id="userChart"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // Mock data (replace with backend JSON)
  const revenueData = {
    labels: ["Jan", "Feb", "Mar", "Apr", "May"],
    datasets: [
      {
        label: "Revenue ($)",
        data: [1000, 1500, 1200, 1800, 2200],
        backgroundColor: "rgba(15, 184, 150, 0.3)",
        borderColor: "var(--primary)",
        borderWidth: 2,
        fill: true,
        tension: 0.4,
      },
    ],
  };

  const userDistribution = {
    labels: ["Active", "Inactive", "Pending"],
    datasets: [
      {
        data: [70, 20, 10],
        backgroundColor: ["var(--primary)", "var(--warning)", "var(--danger)"],
      },
    ],
  };

  const revCtx = document.getElementById("revenueChart").getContext("2d");
  new Chart(revCtx, {
    type: "line",
    data: revenueData,
    options: { responsive: true, maintainAspectRatio: false },
  });

  const usrCtx = document.getElementById("userChart").getContext("2d");
  new Chart(usrCtx, {
    type: "doughnut",
    data: userDistribution,
    options: { responsive: true, maintainAspectRatio: false },
  });
</script>
